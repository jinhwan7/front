{"ast":null,"code":"import React, { useEffect, useState, useContext } from 'react';\nimport UserIcon from '../../assets/user.png';\nimport ChatEvents from '../../lib/chatEvents';\nimport { StoreContext } from '../../store/configureStore';\nconst ChatHead = props => {\n  const {\n    socket\n  } = props;\n  const [headCount, setHeadCount] = useState([]);\n  const {\n    handleIsModal,\n    handleModalContents,\n    room,\n    handleStep,\n    handleRoom\n  } = useContext(StoreContext);\n  const Events = new ChatEvents(socket);\n  const headCountModal = () => {\n    handleModalContents( /*#__PURE__*/React.createElement(\"ul\", {\n      style: {\n        display: \"flex\",\n        flexFlow: \"column nowrap\",\n        flex: \"1\",\n        margin: \"0\",\n        padding: \"0\",\n        listStyle: \"none\",\n        overflow: \"auto\"\n      }\n    }, headCount.map((id, idx) => /*#__PURE__*/React.createElement(\"li\", {\n      key: idx,\n      style: {\n        margin: \"12px\",\n        padding: \"8px\",\n        textAlign: \"center\",\n        color: \"#e4e2b0\",\n        border: \"1px solid #969595\"\n      }\n    }, idx + 1, \" : \", id))));\n  };\n  const openUserList = () => {\n    headCountModal();\n    handleIsModal(true);\n  };\n  const leaveRoom = () => {\n    Events.leaveRoom(room);\n    handleRoom('');\n    handleStep(3);\n  };\n  useEffect(() => {\n    if (room !== '') {\n      Events.receiveHeadCount(room, setHeadCount);\n    }\n    return () => {\n      setHeadCount([]);\n    };\n  }, [room]);\n  useEffect(() => {\n    if (headCount.length > 0) {\n      headCountModal();\n    }\n  }, [headCount]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-testid\": \"chat-head\",\n    style: {\n      display: \"flex\",\n      height: \"48px\",\n      background: \"rgb(230, 221, 196)\"\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    style: {\n      display: \"flex\",\n      flex: \"1\"\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: UserIcon,\n    style: {\n      width: \"30px\",\n      height: \"30px\",\n      margin: \"9px\"\n    },\n    onClick: openUserList\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      margin: \"12px 0\",\n      fontSize: \"1rem\",\n      color: \"rgb(103, 137, 131)\"\n    }\n  }, room || \"#1\", /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"rgb(57, 80, 76)\"\n    }\n  }, \"(\", headCount.length, \")\"))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    title: \"\\uBC29\\uC5D0\\uC11C \\uB098\\uAC00\\uAE30\",\n    style: {\n      background: \"none\",\n      border: \"none\",\n      fontSize: \"1rem\",\n      fontWeight: 600,\n      color: \"#464545\"\n    },\n    onClick: leaveRoom\n  }, \"X\"));\n};\nexport default ChatHead;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}