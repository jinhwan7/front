{"ast":null,"code":"var _jsxFileName = \"/Users/daniel/Documents/GitHub/miniproject/front/src/Components/Orderstable.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\n\n// material-ui\nimport { Box, Table, TableBody, TableCell, TableContainer, TableRow } from \"@mui/material\";\nimport { io } from \"socket.io-client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io.connect(\"http://localhost:3001/raffles\");\nfunction createData(userId, Bid, time) {\n  const formattedTime = formatTimestamp(time);\n  return {\n    userId,\n    Bid,\n    time: formattedTime\n  };\n}\nfunction formatTimestamp(timestamp) {\n  const date = new Date(timestamp);\n  const dateString = date.toLocaleDateString(\"ko-KR\", {\n    year: \"2-digit\",\n    month: \"2-digit\",\n    day: \"2-digit\"\n  });\n  const timeString = date.toLocaleTimeString(\"ko-KR\", {\n    hour12: false,\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\"\n  });\n  return `${dateString} ${timeString}`;\n}\nexport default function OrderTable() {\n  _s();\n  const [rows, setRows] = useState([]);\n  useEffect(() => {\n    socket.on(\"bidList\", data => {\n      const newRow = createData(data.data.user, data.data.amount, data.time);\n      setRows(prevState => [...prevState, newRow]);\n    });\n    return () => {\n      socket.off(\"bidList\");\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: /*#__PURE__*/_jsxDEV(TableContainer, {\n      sx: {\n        overflowX: \"auto\",\n        position: \"relative\",\n        display: \"block\",\n        \"& td, & th\": {\n          whiteSpace: \"nowrap\"\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        \"aria-labelledby\": \"tableTitle\",\n        children: /*#__PURE__*/_jsxDEV(TableBody, {\n          children: rows.sort((a, b) => b.time.localeCompare(a.time)).slice(0, 10).map(row => {\n            return /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"left\",\n                children: row.userId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                children: [\"\\u20A9 \", row.Bid]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: row.time\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 19\n            }, this);\n          })\n        }, rows.userId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(OrderTable, \"aEmP4ME4qF+uYWoxBpsZBPdGgb8=\");\n_c = OrderTable;\nvar _c;\n$RefreshReg$(_c, \"OrderTable\");","map":{"version":3,"names":["useState","useEffect","Box","Table","TableBody","TableCell","TableContainer","TableRow","io","socket","connect","createData","userId","Bid","time","formattedTime","formatTimestamp","timestamp","date","Date","dateString","toLocaleDateString","year","month","day","timeString","toLocaleTimeString","hour12","hour","minute","second","OrderTable","rows","setRows","on","data","newRow","user","amount","prevState","off","overflowX","position","display","whiteSpace","sort","a","b","localeCompare","slice","map","row"],"sources":["/Users/daniel/Documents/GitHub/miniproject/front/src/Components/Orderstable.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\n\n// material-ui\nimport {\n  Box,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableRow,\n} from \"@mui/material\";\nimport { io } from \"socket.io-client\";\nconst socket = io.connect(\"http://localhost:3001/raffles\");\n\nfunction createData(userId, Bid, time) {\n  const formattedTime = formatTimestamp(time);\n  return { userId, Bid, time: formattedTime };\n}\n\nfunction formatTimestamp(timestamp) {\n  const date = new Date(timestamp);\n  const dateString = date.toLocaleDateString(\"ko-KR\", {\n    year: \"2-digit\",\n    month: \"2-digit\",\n    day: \"2-digit\",\n  });\n  const timeString = date.toLocaleTimeString(\"ko-KR\", {\n    hour12: false,\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n  });\n  return `${dateString} ${timeString}`;\n}\n\nexport default function OrderTable() {\n  const [rows, setRows] = useState([]);\n\n  useEffect(() => {\n    socket.on(\"bidList\", (data) => {\n      const newRow = createData(data.data.user, data.data.amount, data.time);\n      setRows((prevState) => [...prevState, newRow]);\n    });\n\n    return () => {\n      socket.off(\"bidList\");\n    };\n  }, []);\n\n  return (\n    <Box>\n      <TableContainer\n        sx={{\n          overflowX: \"auto\",\n          position: \"relative\",\n          display: \"block\",\n          \"& td, & th\": { whiteSpace: \"nowrap\" },\n        }}>\n        <Table aria-labelledby=\"tableTitle\">\n          <TableBody key={rows.userId}>\n            {rows\n              .sort((a, b) => b.time.localeCompare(a.time))\n              .slice(0, 10)\n              .map((row) => {\n                return (\n                  <TableRow>\n                    <TableCell align=\"left\">{row.userId}</TableCell>\n                    <TableCell align=\"center\">â‚© {row.Bid}</TableCell>\n                    <TableCell align=\"right\">{row.time}</TableCell>\n                  </TableRow>\n                );\n              })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Box>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}